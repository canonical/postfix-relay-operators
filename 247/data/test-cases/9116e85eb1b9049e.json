{"uid":"9116e85eb1b9049e","name":"test_metrics_configured","fullName":"tests.integration.test_charm#test_metrics_configured","historyId":"152a9f83a66669444522bb07181a4d2f","time":{"start":1771082444698,"stop":1771082505305,"duration":60607},"description":"\n    arrange: Deploy postfix-relay.\n    act: Get the metrics from the unit.\n    assert: The metrics can be scraped and there are metrics.\n    ","descriptionHtml":"<pre><code>arrange: Deploy postfix-relay.\nact: Get the metrics from the unit.\nassert: The metrics can be scraped and there are metrics.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1771082311484,"stop":1771082311796,"duration":312},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"machine_ip_address","time":{"start":1771082311796,"stop":1771082311797,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"postfix_relay_charm","time":{"start":1771082311797,"stop":1771082311797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1771082311797,"stop":1771082311797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"postfix_relay_app","time":{"start":1771082311797,"stop":1771082430971,"duration":119174},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1771082444698,"stop":1771082444698,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Deploy postfix-relay.\n    act: Get the metrics from the unit.\n    assert: The metrics can be scraped and there are metrics.\n    ","status":"passed","steps":[],"attachments":[{"uid":"f1d771ef2444912d","name":"log","source":"f1d771ef2444912d.txt","type":"text/plain","size":3018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1771082505306,"stop":1771082505306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1771082505307,"stop":1771082505307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm"},{"name":"host","value":"github-runner"},{"name":"thread","value":"10760-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"db2395b46c30f09b","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":10,"broken":0,"skipped":0,"passed":25,"unknown":0,"total":35},"items":[{"uid":"e2d35e2c22e20876","reportUrl":"../244//#testresult/e2d35e2c22e20876","status":"passed","time":{"start":1770477660844,"stop":1770477721338,"duration":60494}},{"uid":"ef63aae360cbd9f0","reportUrl":"../242//#testresult/ef63aae360cbd9f0","status":"passed","time":{"start":1769872871907,"stop":1769872932499,"duration":60592}},{"uid":"31cf0851ad089179","reportUrl":"../240//#testresult/31cf0851ad089179","status":"passed","time":{"start":1769267961345,"stop":1769268021932,"duration":60587}},{"uid":"ec0f4042fd2afa","reportUrl":"../239//#testresult/ec0f4042fd2afa","status":"passed","time":{"start":1768663196351,"stop":1768663256962,"duration":60611}},{"uid":"a38e9a1e8eec78a9","reportUrl":"../238//#testresult/a38e9a1e8eec78a9","status":"passed","time":{"start":1768058504323,"stop":1768058564914,"duration":60591}},{"uid":"1903a08f3edd7d03","reportUrl":"../232//#testresult/1903a08f3edd7d03","status":"passed","time":{"start":1766848707919,"stop":1766848768512,"duration":60593}},{"uid":"d371f7bae81e657e","reportUrl":"../231//#testresult/d371f7bae81e657e","status":"passed","time":{"start":1766244003874,"stop":1766244064463,"duration":60589}},{"uid":"1f63236380429af4","reportUrl":"../224//#testresult/1f63236380429af4","status":"passed","time":{"start":1765034293686,"stop":1765034354303,"duration":60617}},{"uid":"58b5b8071d5a6e20","reportUrl":"../222//#testresult/58b5b8071d5a6e20","status":"passed","time":{"start":1764430221925,"stop":1764430222089,"duration":164}},{"uid":"4f35e715defa9ac5","reportUrl":"../212//#testresult/4f35e715defa9ac5","status":"passed","time":{"start":1763680342818,"stop":1763680342995,"duration":177}},{"uid":"32d950eda6241b1d","reportUrl":"../211//#testresult/32d950eda6241b1d","status":"passed","time":{"start":1762777235090,"stop":1762777235279,"duration":189}},{"uid":"dee541b24d768c4","reportUrl":"../210//#testresult/dee541b24d768c4","status":"passed","time":{"start":1762521823018,"stop":1762521823191,"duration":173}},{"uid":"b46ec815fed3d8dd","reportUrl":"../209//#testresult/b46ec815fed3d8dd","status":"failed","statusDetails":"AssertionError: assert 'cpu_usage_idle' in '# HELP conntrack_ip_conntrack_count Telegraf collected metric\\n# TYPE conntrack_ip_conntrack_count untyped\\nconntrack_ip_conntrack_count{host=\"juju-208ed3-0\"} 0\\n# HELP conntrack_ip_conntrack_max Telegraf collected metric\\n# TYPE conntrack_ip_conntrack_max untyped\\nconntrack_ip_conntrack_max{host=\"juju-208ed3-0\"} 262144\\n# HELP exec Telegraf collected metric\\n# TYPE exec untyped\\nexec{host=\"juju-208ed3-0\"} 4736\\n# HELP go_gc_duration_seconds A summary of the wall-time pause (stop-the-world) duration in garbage collection cycles.\\n# TYPE go_gc_duration_seconds summary\\ngo_gc_duration_seconds{quantile=\"0\"} 3.2618e-05\\ngo_gc_duration_seconds{quantile=\"0.25\"} 3.2618e-05\\ngo_gc_duration_seconds{quantile=\"0.5\"} 0.007766113\\ngo_gc_duration_seconds{quantile=\"0.75\"} 0.007766113\\ngo_gc_duration_seconds{quantile=\"1\"} 0.007766113\\ngo_gc_duration_seconds_sum 0.007798731\\ngo_gc_duration_seconds_count 2\\n# HELP go_gc_gogc_percent Heap size target percentage configured by the user, otherwise 100. This value is set by the GOGC environment variable, and the runtime/debug.SetGCPercent function. Sourced from /gc/gogc:percent.\\n# TYPE go_gc_gogc_percent gauge\\ngo_gc_gogc_percent 100\\n# HELP go_gc_go...ter -w\",host=\"juju-208ed3-0\",pattern=\"/usr/lib/postfix/sbin/master\",process_name=\"master\",status=\"sleep\",user=\"root\"} 212\\n# HELP procstat_num_threads Telegraf collected metric\\n# TYPE procstat_num_threads untyped\\nprocstat_num_threads{cmdline=\"/usr/lib/postfix/sbin/master -w\",host=\"juju-208ed3-0\",pattern=\"/usr/lib/postfix/sbin/master\",process_name=\"master\",status=\"sleep\",user=\"root\"} 1\\n# HELP procstat_pid Telegraf collected metric\\n# TYPE procstat_pid untyped\\nprocstat_pid{cmdline=\"/usr/lib/postfix/sbin/master -w\",host=\"juju-208ed3-0\",pattern=\"/usr/lib/postfix/sbin/master\",process_name=\"master\",status=\"sleep\",user=\"root\"} 5842\\n# HELP procstat_ppid Telegraf collected metric\\n# TYPE procstat_ppid untyped\\nprocstat_ppid{cmdline=\"/usr/lib/postfix/sbin/master -w\",host=\"juju-208ed3-0\",pattern=\"/usr/lib/postfix/sbin/master\",process_name=\"master\",status=\"sleep\",user=\"root\"} 1\\n# HELP procstat_voluntary_context_switches Telegraf collected metric\\n# TYPE procstat_voluntary_context_switches untyped\\nprocstat_voluntary_context_switches{cmdline=\"/usr/lib/postfix/sbin/master -w\",host=\"juju-208ed3-0\",pattern=\"/usr/lib/postfix/sbin/master\",process_name=\"master\",status=\"sleep\",user=\"root\"} 6\\n'","time":{"start":1762521777672,"stop":1762521777850,"duration":178}},{"uid":"f826fcce937eeaf1","reportUrl":"../208//#testresult/f826fcce937eeaf1","status":"failed","statusDetails":"AssertionError: assert 'cpu_usage_idle' in '# HELP conntrack_ip_conntrack_count Telegraf collected metric\\n# TYPE conntrack_ip_conntrack_count untyped\\nconntrack_ip_conntrack_count{host=\"juju-e7e2f2-0\"} 0\\n# HELP conntrack_ip_conntrack_max Telegraf collected metric\\n# TYPE conntrack_ip_conntrack_max untyped\\nconntrack_ip_conntrack_max{host=\"juju-e7e2f2-0\"} 262144\\n# HELP exec Telegraf collected metric\\n# TYPE exec untyped\\nexec{host=\"juju-e7e2f2-0\"} 4736\\n# HELP go_gc_duration_seconds A summary of the wall-time pause (stop-the-world) duration in garbage collection cycles.\\n# TYPE go_gc_duration_seconds summary\\ngo_gc_duration_seconds{quantile=\"0\"} 5.4772e-05\\ngo_gc_duration_seconds{quantile=\"0.25\"} 5.4772e-05\\ngo_gc_duration_seconds{quantile=\"0.5\"} 0.001781133\\ngo_gc_duration_seconds{quantile=\"0.75\"} 0.001781133\\ngo_gc_duration_seconds{quantile=\"1\"} 0.001781133\\ngo_gc_duration_seconds_sum 0.001835905\\ngo_gc_duration_seconds_count 2\\n# HELP go_gc_gogc_percent Heap size target percentage configured by the user, otherwise 100. This value is set by the GOGC environment variable, and the runtime/debug.SetGCPercent function. Sourced from /gc/gogc:percent.\\n# TYPE go_gc_gogc_percent gauge\\ngo_gc_gogc_percent 100\\n# HELP go_gc_go...ter -w\",host=\"juju-e7e2f2-0\",pattern=\"/usr/lib/postfix/sbin/master\",process_name=\"master\",status=\"sleep\",user=\"root\"} 215\\n# HELP procstat_num_threads Telegraf collected metric\\n# TYPE procstat_num_threads untyped\\nprocstat_num_threads{cmdline=\"/usr/lib/postfix/sbin/master -w\",host=\"juju-e7e2f2-0\",pattern=\"/usr/lib/postfix/sbin/master\",process_name=\"master\",status=\"sleep\",user=\"root\"} 1\\n# HELP procstat_pid Telegraf collected metric\\n# TYPE procstat_pid untyped\\nprocstat_pid{cmdline=\"/usr/lib/postfix/sbin/master -w\",host=\"juju-e7e2f2-0\",pattern=\"/usr/lib/postfix/sbin/master\",process_name=\"master\",status=\"sleep\",user=\"root\"} 5849\\n# HELP procstat_ppid Telegraf collected metric\\n# TYPE procstat_ppid untyped\\nprocstat_ppid{cmdline=\"/usr/lib/postfix/sbin/master -w\",host=\"juju-e7e2f2-0\",pattern=\"/usr/lib/postfix/sbin/master\",process_name=\"master\",status=\"sleep\",user=\"root\"} 1\\n# HELP procstat_voluntary_context_switches Telegraf collected metric\\n# TYPE procstat_voluntary_context_switches untyped\\nprocstat_voluntary_context_switches{cmdline=\"/usr/lib/postfix/sbin/master -w\",host=\"juju-e7e2f2-0\",pattern=\"/usr/lib/postfix/sbin/master\",process_name=\"master\",status=\"sleep\",user=\"root\"} 7\\n'","time":{"start":1762368967003,"stop":1762368967187,"duration":184}},{"uid":"40133fe9a220e694","reportUrl":"../207//#testresult/40133fe9a220e694","status":"passed","time":{"start":1762283772408,"stop":1762283772600,"duration":192}},{"uid":"fbba1e91797f550a","reportUrl":"../206//#testresult/fbba1e91797f550a","status":"passed","time":{"start":1761316078998,"stop":1761316079195,"duration":197}},{"uid":"3ccb9218da196b31","reportUrl":"../205//#testresult/3ccb9218da196b31","status":"passed","time":{"start":1761314193969,"stop":1761314194152,"duration":183}},{"uid":"5505e330e90e163b","reportUrl":"../204//#testresult/5505e330e90e163b","status":"passed","time":{"start":1761312803084,"stop":1761312803247,"duration":163}},{"uid":"cf57a1275b8bce9b","reportUrl":"../200//#testresult/cf57a1275b8bce9b","status":"passed","time":{"start":1761312626829,"stop":1761312627017,"duration":188}},{"uid":"cf830d89b43a509f","reportUrl":"../202//#testresult/cf830d89b43a509f","status":"passed","time":{"start":1761311894267,"stop":1761311894454,"duration":187}}]},"tags":["abort_on_fail"]},"source":"9116e85eb1b9049e.json","parameterValues":[]}